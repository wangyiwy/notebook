# CAS算法

内存值 V、预估值A、更新值B，当且仅当V==A，才V=B。否则，则不做任何操作。

假设有两个线程需要对变量i,进行i++操作。此时i=0。

1. 线程A读取主存中的i，读取V=0。当需要执行更新操作时，再次从主存中读取A=0，更新值B=1。由于满足CAS算法的条件，所以i更新为1。 
2. 假设线程B在线程A写入之前就已经读取了主存中的i，V=0。但是当需要更新操作时，再次读取i时，由于线程A已经写会主存，所以此时预估值A=1，更新值B=1。由于不满足条件，所以线程B不作任何操作。 

用CAS算法可以保证当多个线程同时并发操作时，只有一个线程能实现它的操作，更改它的值。



